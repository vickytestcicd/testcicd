name: CI

on:
  push:
#   workflow_call:
#     outputs:
#       deployResulta:
#         description: "the result of deployment"
#         value: ${{ jobs.test.outputs.result }}
#       deployResultb:
#         description: "the result of deployment"
#         value: ${{ jobs.test1.outputs.result }}

jobs:
  test:
    runs-on: ubuntu-latest
    outputs:
      bb: ${{ steps.test.outputs.bb }}
      aa: ${{ steps.test.outputs.aa }}
    steps:
      - name: test
        id: test
        run: |
          bb=true
          echo "::set-output name=bb::$bb"
          aa=false
          echo "::set-output name=aa::$aa"
          exit 0

  test2:
    needs: [test]
    uses: vickytestcicd/mongo/.github/workflows/main.yml@main
    with:
      aa: ${{ needs.test.outputs.aa }}
      bb: ${{ needs.test.outputs.bb }}
#     if: ${{ always() && ( needs.test.outputs.aa == 'true' || needs.test.outputs.bb == 'true' ) }}
#     needs: [test]
#     if: ${{ needs.test.outputs.aa == 'true' || needs.test.outputs.bb == 'true' }}

          
          
